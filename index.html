<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ—Ç—Ä–æ –§–æ—Ä—É–º 2007</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Verdana, Arial, sans-serif;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect fill="%23c0c0c0" width="4" height="4"/><rect fill="%23999" x="0" y="0" width="2" height="2"/></svg>');
            background-color: #b0b0b0;
            color: #333;
            line-height: 1.4;
            font-size: 12px;
            padding: 10px;
        }

        .container {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            background: linear-gradient(to bottom, #1f5b9c, #1a4d7a);
            border: 2px solid #333;
            padding: 15px;
            margin-bottom: 10px;
            text-align: center;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .header p {
            font-size: 11px;
            color: #ddd;
            margin: 0;
        }

        .nav-bar {
            background: linear-gradient(to bottom, #8b8b8b, #707070);
            border: 2px solid #333;
            padding: 8px 10px;
            margin-bottom: 10px;
            display: flex;
            gap: 15px;
            box-shadow: inset 1px 1px 0 #fff, inset -1px -1px 0 #000;
        }

        .nav-bar a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            padding: 4px 10px;
            background: linear-gradient(to bottom, #a0a0a0, #808080);
            border: 2px outset #dfdfdf;
            border-radius: 3px;
            font-size: 11px;
            transition: all 0.1s;
        }

        .nav-bar a:hover {
            background: linear-gradient(to bottom, #b0b0b0, #909090);
            border-style: inset;
        }

        .nav-bar a.active {
            background: linear-gradient(to bottom, #707070, #505050);
            border-style: inset;
            color: #ffff00;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .forum-section {
            background: #e8e8e8;
            border: 2px solid;
            border-color: #dfdfdf #808080 #808080 #dfdfdf;
            box-shadow: inset 1px 1px 0 #fff, inset -1px -1px 0 #000;
        }

        .section-header {
            background: linear-gradient(to right, #000080, #1084d7);
            color: white;
            padding: 8px 12px;
            font-weight: bold;
            font-size: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .section-body {
            padding: 0;
        }

        .forum-list {
            border-top: 1px solid #dfdfdf;
        }

        .forum-item {
            display: grid;
            grid-template-columns: 60px 1fr 80px 80px;
            gap: 10px;
            padding: 10px 12px;
            border-bottom: 1px solid #dfdfdf;
            align-items: center;
            background: white;
            transition: background 0.2s;
        }

        .forum-item:hover {
            background: #f0f0f0;
        }

        .forum-item:last-child {
            border-bottom: none;
        }

        .forum-icon {
            text-align: center;
            font-size: 24px;
        }

        .forum-info h3 {
            font-size: 13px;
            margin: 0 0 3px 0;
            color: #000080;
            text-decoration: underline;
            cursor: pointer;
        }

        .forum-info h3:hover {
            color: #1084d7;
        }

        .forum-info p {
            font-size: 11px;
            margin: 0;
            color: #666;
        }

        .forum-stats {
            text-align: center;
            font-size: 11px;
            padding: 5px;
            background: #f5f5f5;
            border-radius: 3px;
        }

        .forum-stats div {
            margin: 2px 0;
        }

        .forum-stats strong {
            color: #000080;
        }

        .thread-list {
            border-top: 1px solid #dfdfdf;
        }

        .thread-item {
            display: grid;
            grid-template-columns: 50px 1fr 60px 80px 80px;
            gap: 10px;
            padding: 8px 12px;
            border-bottom: 1px solid #dfdfdf;
            align-items: center;
            background: white;
            transition: background 0.2s;
        }

        .thread-item:hover {
            background: #f0f0f0;
        }

        .thread-item:last-child {
            border-bottom: none;
        }

        .thread-icon {
            text-align: center;
            font-size: 20px;
        }

        .thread-info h4 {
            font-size: 12px;
            margin: 0 0 3px 0;
            color: #000080;
            cursor: pointer;
        }

        .thread-info h4:hover {
            color: #1084d7;
        }

        .thread-info p {
            font-size: 10px;
            margin: 0;
            color: #666;
        }

        .thread-stats {
            text-align: center;
            font-size: 10px;
        }

        .posts-button, .last-post {
            background: #e8e8e8;
            border: 1px solid #808080;
            padding: 4px 8px;
            border-radius: 2px;
            font-size: 10px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .posts-button:hover {
            background: #d8d8d8;
        }

        .action-bar {
            background: linear-gradient(to bottom, #8b8b8b, #707070);
            border: 2px solid #333;
            padding: 8px 10px;
            margin: 10px 0;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            box-shadow: inset 1px 1px 0 #fff, inset -1px -1px 0 #000;
        }

        .button {
            background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);
            border: 2px outset #dfdfdf;
            color: #000;
            padding: 6px 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 11px;
            border-radius: 3px;
            transition: all 0.1s;
        }

        .button:hover {
            background: linear-gradient(to bottom, #d0d0d0, #b0b0b0);
        }

        .button:active {
            border-style: inset;
            background: linear-gradient(to bottom, #a0a0a0, #c0c0c0);
        }

        .button.primary {
            background: linear-gradient(to bottom, #1f5b9c, #1a4d7a);
            color: white;
            border-color: #fff;
        }

        .button.primary:hover {
            background: linear-gradient(to bottom, #2a6aad, #1f5b9c);
        }

        .input-field {
            border: 2px inset #dfdfdf;
            padding: 4px 6px;
            font-family: Verdana, Arial, sans-serif;
            font-size: 11px;
            background: white;
            color: #000;
        }

        .textarea {
            border: 2px inset #dfdfdf;
            padding: 6px 8px;
            font-family: Verdana, Arial, sans-serif;
            font-size: 11px;
            background: white;
            color: #000;
            width: 100%;
            min-height: 120px;
            resize: vertical;
        }

        .form-group {
            margin-bottom: 10px;
        }

        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 4px;
            font-size: 11px;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
        }

        .post-item {
            background: #f0f0f0;
            border: 2px solid;
            border-color: #dfdfdf #808080 #808080 #dfdfdf;
            margin-bottom: 10px;
        }

        .post-header {
            background: linear-gradient(to right, #a0a0a0, #808080);
            color: white;
            padding: 6px 10px;
            font-weight: bold;
            font-size: 11px;
            display: flex;
            justify-content: space-between;
            box-shadow: inset 1px 1px 0 #fff, inset -1px -1px 0 #000;
        }

        .post-body {
            padding: 12px;
            background: white;
            font-size: 12px;
            line-height: 1.6;
        }

        .post-footer {
            background: #e8e8e8;
            padding: 6px 10px;
            font-size: 10px;
            color: #666;
            border-top: 1px solid #dfdfdf;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #1f5b9c, #1a4d7a);
            border: 2px solid #333;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 24px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            padding: 20px;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: #c0c0c0;
            border: 3px solid;
            border-color: #dfdfdf #808080 #808080 #dfdfdf;
            box-shadow: inset 1px 1px 0 #fff, inset -1px -1px 0 #000;
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            background: linear-gradient(to right, #000080, #1084d7);
            color: white;
            padding: 4px 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            font-size: 12px;
        }

        .modal-close {
            background: linear-gradient(to bottom, #c0c0c0, #a0a0a0);
            border: 2px outset #dfdfdf;
            width: 20px;
            height: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
        }

        .modal-close:active {
            border-style: inset;
        }

        .modal-body {
            padding: 12px;
            background: #c0c0c0;
        }

        .no-data {
            padding: 20px;
            text-align: center;
            color: #666;
            background: white;
            font-size: 12px;
        }

        @media (max-width: 768px) {
            .forum-item,
            .thread-item {
                grid-template-columns: 1fr;
                gap: 5px;
            }

            .nav-bar {
                flex-direction: column;
            }

            .modal-content {
                width: 95%;
                max-width: 95%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üñ•Ô∏è –†–µ—Ç—Ä–æ –§–æ—Ä—É–º 2007</h1>
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ñ–æ—Ä—É–º –Ω—É–ª–µ–≤—ã—Ö –≥–æ–¥–æ–≤!</p>
        </div>

        <!-- Navigation -->
        <div class="nav-bar">
            <a class="nav-item active" onclick="showView('forums')">üìÇ –§–æ—Ä—É–º—ã</a>
            <a class="nav-item" onclick="showView('thread-form')">‚úçÔ∏è –°–æ–∑–¥–∞—Ç—å —Ç–µ–º—É</a>
            <a class="nav-item" onclick="showView('members')">üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏</a>
            <a class="nav-item" onclick="showView('search')">üîç –ü–æ–∏—Å–∫</a>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Forums View -->
            <div id="forums-view" class="view active">
                <div class="forum-section">
                    <div class="section-header">
                        üìã –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ñ–æ—Ä—É–º–∞
                        <span>üëÅÔ∏è 1,247 –æ–Ω–ª–∞–π–Ω</span>
                    </div>
                    <div class="section-body" id="forums-list">
                        <div class="forum-item">
                            <div class="forum-icon">üìÅ</div>
                            <div class="forum-info">
                                <h3 onclick="showForum(0)">–û—Å–Ω–æ–≤–Ω–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ</h3>
                                <p>–í—Å–µ –æ–± —ç—Ç–æ–º —Ñ–æ—Ä—É–º–µ –∏ –∂–∏–∑–Ω–∏</p>
                            </div>
                            <div class="forum-stats">
                                <div><strong>12</strong></div>
                                <div>—Ç–µ–º</div>
                            </div>
                            <div class="forum-stats">
                                <div><strong>48</strong></div>
                                <div>—Å–æ–æ–±—â.</div>
                            </div>
                        </div>
                        <div class="forum-item">
                            <div class="forum-icon">üíª</div>
                            <div class="forum-info">
                                <h3 onclick="showForum(1)">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h3>
                                <p>–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ü–ö, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ —Å–æ—Ñ—Ç–∞</p>
                            </div>
                            <div class="forum-stats">
                                <div><strong>8</strong></div>
                                <div>—Ç–µ–º</div>
                            </div>
                            <div class="forum-stats">
                                <div><strong>32</strong></div>
                                <div>—Å–æ–æ–±—â.</div>
                            </div>
                        </div>
                        <div class="forum-item">
                            <div class="forum-icon">üéÆ</div>
                            <div class="forum-info">
                                <h3 onclick="showForum(2)">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</h3>
                                <p>–ò–≥—Ä—ã, –∫–∏–Ω–æ –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</p>
                            </div>
                            <div class="forum-stats">
                                <div><strong>15</strong></div>
                                <div>—Ç–µ–º</div>
                            </div>
                            <div class="forum-stats">
                                <div><strong>67</strong></div>
                                <div>—Å–æ–æ–±—â.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Forum Threads View -->
            <div id="forum-view" class="view" style="display:none;">
                <div class="action-bar">
                    <button class="button" onclick="backToForums()">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="button primary" onclick="openNewThreadModal()">üìù –ù–æ–≤–∞—è —Ç–µ–º–∞</button>
                </div>
                <div class="forum-section">
                    <div class="section-header" id="forum-title">
                        –¢–µ–º—ã —Ñ–æ—Ä—É–º–∞
                    </div>
                    <div class="section-body" id="threads-list">
                    </div>
                </div>
            </div>

            <!-- Thread View -->
            <div id="thread-view" class="view" style="display:none;">
                <div class="action-bar">
                    <button class="button" onclick="backToForum()">‚Üê –ö —Ñ–æ—Ä—É–º—É</button>
                </div>
                <div class="forum-section">
                    <div class="section-header" id="thread-title">
                        –¢–µ–º–∞
                    </div>
                    <div class="section-body" id="posts-list">
                    </div>
                </div>
                <div class="action-bar">
                    <button class="button primary" onclick="openReplyModal()">üìù –û—Ç–≤–µ—Ç–∏—Ç—å</button>
                </div>
            </div>

            <!-- New Thread Form -->
            <div id="thread-form" class="view" style="display:none;">
                <div class="action-bar">
                    <button class="button" onclick="backToForums()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                <div class="forum-section">
                    <div class="section-header">‚úçÔ∏è –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç–µ–º—É</div>
                    <div class="section-body">
                        <div style="padding: 12px;">
                            <div class="form-group">
                                <label>–§–æ—Ä—É–º:</label>
                                <select class="input-field" id="forum-select" style="width: 100%; padding: 6px;">
                                    <option value="0">–û—Å–Ω–æ–≤–Ω–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ</option>
                                    <option value="1">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</option>
                                    <option value="2">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ–º—ã:</label>
                                <input type="text" class="input-field" id="thread-title-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫...">
                            </div>
                            <div class="form-group">
                                <label>–í–∞—à–µ –∏–º—è:</label>
                                <input type="text" class="input-field" id="thread-author-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è...">
                            </div>
                            <div class="form-group">
                                <label>–°–æ–æ–±—â–µ–Ω–∏–µ:</label>
                                <textarea class="textarea" id="thread-text-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è..."></textarea>
                            </div>
                            <div style="display: flex; gap: 10px;">
                                <button class="button primary" onclick="createThread()">‚úì –°–æ–∑–¥–∞—Ç—å —Ç–µ–º—É</button>
                                <button class="button" onclick="showView('forums')">‚úï –û—Ç–º–µ–Ω–∞</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Members View -->
            <div id="members" class="view" style="display:none;">
                <div class="action-bar">
                    <button class="button" onclick="backToForums()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                <div class="forum-section">
                    <div class="section-header">üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏</div>
                    <div class="section-body">
                        <div style="padding: 12px;">
                            <p><strong>–í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:</strong> 234</p>
                            <p><strong>–°–µ–≥–æ–¥–Ω—è –æ–Ω–ª–∞–π–Ω:</strong> 47</p>
                            <p><strong>–ú–∞–∫—Å–∏–º—É–º –æ–Ω–ª–∞–π–Ω:</strong> 156 (2024-01-18 –≤ 18:45)</p>
                            <hr style="border: none; border-top: 1px dashed #999; margin: 10px 0;">
                            <p>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤–æ—à–µ–¥—à–∏–µ: <strong>Ivan_2007, Masha88, Alex_Pro, Dmitry_V, Elena_Sky</strong></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search View -->
            <div id="search" class="view" style="display:none;">
                <div class="action-bar">
                    <button class="button" onclick="backToForums()">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                <div class="forum-section">
                    <div class="section-header">üîç –ü–æ–∏—Å–∫</div>
                    <div class="section-body">
                        <div style="padding: 12px;">
                            <div class="form-group">
                                <label>–ü–æ–∏—Å–∫ –ø–æ —Ñ–æ—Ä—É–º—É:</label>
                                <input type="text" class="input-field" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å...">
                            </div>
                            <button class="button primary">–ò—Å–∫–∞—Ç—å</button>
                            <p style="margin-top: 10px; font-size: 11px; color: #666;">–§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="new-thread-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>üìù –ù–æ–≤–∞—è —Ç–µ–º–∞</span>
                <div class="modal-close" onclick="closeModal('new-thread-modal')">√ó</div>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</label>
                    <input type="text" class="input-field" id="modal-thread-title" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫..." style="width: 100%;">
                </div>
                <div class="form-group">
                    <label>–í–∞—à–µ –∏–º—è:</label>
                    <input type="text" class="input-field" id="modal-thread-author" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è..." style="width: 100%;">
                </div>
                <div class="form-group">
                    <label>–°–æ–æ–±—â–µ–Ω–∏–µ:</label>
                    <textarea class="textarea" id="modal-thread-text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button class="button" onclick="closeModal('new-thread-modal')">–û—Ç–º–µ–Ω–∞</button>
                    <button class="button primary" onclick="createThreadFromModal()">‚úì –°–æ–∑–¥–∞—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <div id="reply-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>üí¨ –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Ç–µ–º—É</span>
                <div class="modal-close" onclick="closeModal('reply-modal')">√ó</div>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>–í–∞—à–µ –∏–º—è:</label>
                    <input type="text" class="input-field" id="reply-author" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è..." style="width: 100%;">
                </div>
                <div class="form-group">
                    <label>–°–æ–æ–±—â–µ–Ω–∏–µ:</label>
                    <textarea class="textarea" id="reply-text" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç..."></textarea>
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button class="button" onclick="closeModal('reply-modal')">–û—Ç–º–µ–Ω–∞</button>
                    <button class="button primary" onclick="addReply()">‚úì –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä—É–º–∞ (—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏)
        const forumData = {
            forums: [
                { id: 0, name: '–û—Å–Ω–æ–≤–Ω–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ', desc: '–í—Å–µ –æ–± —ç—Ç–æ–º —Ñ–æ—Ä—É–º–µ –∏ –∂–∏–∑–Ω–∏', threads: [] },
                { id: 1, name: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', desc: '–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ü–ö, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ —Å–æ—Ñ—Ç–∞', threads: [] },
                { id: 2, name: '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è', desc: '–ò–≥—Ä—ã, –∫–∏–Ω–æ –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è', threads: [] }
            ]
        };

        let currentView = 'forums';
        let currentForum = null;
        let currentThread = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        function initializeData() {
            forumData.forums[0].threads = [
                { id: 0, title: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ —Ñ–æ—Ä—É–º!', author: 'Admin', date: '2024-01-20', posts: [
                    { id: 0, author: 'Admin', date: '2024-01-20 10:30', text: '–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º! –≠—Ç–æ –Ω–∞—à –Ω–æ–≤—ã–π —Ä–µ—Ç—Ä–æ-—Ñ–æ—Ä—É–º –≤ —Å—Ç–∏–ª–µ 2007 –≥–æ–¥–∞. –î–æ–±–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏ —Ç–µ–º—ã –∏ –æ–±—Å—É–∂–¥–∞–π—Ç–µ –≤—Å—ë, —á—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç!' }
                ]},
                { id: 1, title: '–ö–∞–∫ –¥–µ–ª–∞, –¥—Ä—É–∑—å—è?', author: 'Ivan_2007', date: '2024-01-19', posts: [
                    { id: 0, author: 'Ivan_2007', date: '2024-01-19 15:20', text: '–†–µ–±—è—Ç–∞, –∫–∞–∫ –¥–µ–ª–∞? –î–∞–≤–∞–π—Ç–µ –æ–±—Å—É–¥–∏–º –Ω–∞—à—É –∂–∏–∑–Ω—å –∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã!' },
                    { id: 1, author: 'Masha88', date: '2024-01-19 16:45', text: '–ü—Ä–∏–≤–µ—Ç! –£ –º–µ–Ω—è –≤—Å—ë —Ö–æ—Ä–æ—à–æ, –±–ª–∞–≥–æ–¥–∞—Ä—é –∑–∞ —Å–ø—Ä–æ—Å üòä' }
                ]}
            ];

            forumData.forums[1].threads = [
                { id: 0, title: '–ö–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –ª—É—á—à–µ?', author: 'TechGuy', date: '2024-01-18', posts: [
                    { id: 0, author: 'TechGuy', date: '2024-01-18 12:00', text: '–ö—Ç–æ –∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä —Å–∞–º—ã–π –º–æ—â–Ω—ã–π –≤ 2007 –≥–æ–¥—É? –Ø –¥—É–º–∞—é –æ Core 2 Duo...' }
                ]},
                { id: 1, title: 'Windows Vista vs XP', author: 'Alex_Pro', date: '2024-01-17', posts: [
                    { id: 0, author: 'Alex_Pro', date: '2024-01-17 09:15', text: '–ß—Ç–æ –ª—É—á—à–µ - Windows Vista –∏–ª–∏ XP? –û–±—Å—É–¥–∏–º –ø–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã –∫–∞–∂–¥–æ–π!' }
                ]}
            ];

            forumData.forums[2].threads = [
                { id: 0, title: '–ù–æ–≤–∞—è –∏–≥—Ä–∞ - Crysis!', author: 'GameMaster', date: '2024-01-20', posts: [
                    { id: 0, author: 'GameMaster', date: '2024-01-20 18:30', text: '–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞! –≠—Ç–æ –ª—É—á—à–∞—è –∏–≥—Ä–∞ 2007 –≥–æ–¥–∞ üéÆ' },
                    { id: 1, author: 'Elena_Sky', date: '2024-01-20 19:45', text: '–°–æ–≥–ª–∞—Å–Ω–∞! –ü—Ä–æ—Å—Ç–æ –ø–æ—Ç—Ä—è—Å–∞—é—â–µ!' }
                ]},
                { id: 1, title: '–§–∏–ª—å–º "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã"', author: 'CinemaBuff', date: '2024-01-16', posts: [
                    { id: 0, author: 'CinemaBuff', date: '2024-01-16 21:00', text: '–í—ã –≤–∏–¥–µ–ª–∏ –Ω–æ–≤—ã–π —Ñ–∏–ª—å–º –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã? –≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–æ—Å—Ç–æ –±–æ–º–±–∞!' }
                ]}
            ];
        }

        function showView(view) {
            document.querySelectorAll('.view').forEach(v => v.style.display = 'none');
            document.getElementById(view).style.display = 'block';
            document.querySelectorAll('.nav-item').forEach(a => a.classList.remove('active'));
            document.querySelector(`[onclick="showView('${view}')"]`)?.classList.add('active');
            currentView = view;
        }

        function showForum(forumId) {
            currentForum = forumId;
            const forum = forumData.forums[forumId];
            document.getElementById('forum-title').textContent = 'üìÅ ' + forum.name;

            const threadsList = document.getElementById('threads-list');
            threadsList.innerHTML = '';

            if (forum.threads.length === 0) {
                threadsList.innerHTML = '<div class="no-data">–í —ç—Ç–æ–º —Ñ–æ—Ä—É–º–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ç–µ–º. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º–∏! üìù</div>';
            } else {
                forum.threads.forEach((thread, idx) => {
                    const postsCount = thread.posts.length;
                    threadsList.innerHTML += `
                        <div class="thread-item">
                            <div class="thread-icon">${postsCount > 5 ? 'üî•' : 'üí¨'}</div>
                            <div class="thread-info">
                                <h4 onclick="showThread(${forumId}, ${idx})">${thread.title}</h4>
                                <p>–ê–≤—Ç–æ—Ä: <strong>${thread.author}</strong> | ${thread.date}</p>
                            </div>
                            <div class="thread-stats">
                                <div><strong>${postsCount}</strong></div>
                                <div>–æ—Ç–≤–µ—Ç.</div>
                            </div>
                            <div class="thread-stats">
                                <div><strong>${postsCount * 2}</strong></div>
                                <div>–ø—Ä–æ—Å–º.</div>
                            </div>
                            <button class="posts-button" onclick="showThread(${forumId}, ${idx})">–û—Ç–∫—Ä—ã—Ç—å ‚Üí</button>
                        </div>
                    `;
                });
            }

            document.querySelectorAll('.view').forEach(v => v.style.display = 'none');
            document.getElementById('forum-view').style.display = 'block';
        }

        function showThread(forumId, threadId) {
            currentForum = forumId;
            currentThread = threadId;
            const thread = forumData.forums[forumId].threads[threadId];
            document.getElementById('thread-title').textContent = 'üí¨ ' + thread.title;

            const postsList = document.getElementById('posts-list');
            postsList.innerHTML = '';

            thread.posts.forEach((post, idx) => {
                const avatar = post.author[0].toUpperCase();
                postsList.innerHTML += `
                    <div class="post-item">
                        <div class="post-header">
                            üìå –°–æ–æ–±—â–µ–Ω–∏–µ #${idx + 1}
                            <span>${post.date}</span>
                        </div>
                        <div style="display: flex; gap: 12px; padding: 12px; background: white;">
                            <div class="user-avatar">${avatar}</div>
                            <div style="flex: 1;">
                                <div style="font-weight: bold; color: #000080; margin-bottom: 8px;">
                                    ${post.author}
                                </div>
                                <div class="post-body" style="padding: 0; background: none; margin: 0;">
                                    ${post.text}
                                </div>
                            </div>
                        </div>
                        <div class="post-footer">
                            ‚≠ê –ü—Ä–æ—Ñ–∏–ª—å | üìß –°–æ–æ–±—â–µ–Ω–∏–µ | üîó –¶–∏—Ç–∞—Ç–∞
                        </div>
                    </div>
                `;
            });

            document.querySelectorAll('.view').forEach(v => v.style.display = 'none');
            document.getElementById('thread-view').style.display = 'block';
        }

        function backToForums() {
            showView('forums');
            currentForum = null;
            currentThread = null;
        }

        function backToForum() {
            if (currentForum !== null) {
                showForum(currentForum);
            }
        }

        function openNewThreadModal() {
            document.getElementById('new-thread-modal').classList.add('active');
        }

        function openReplyModal() {
            document.getElementById('reply-modal').classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function createThread() {
            const title = document.getElementById('thread-title-input').value;
            const author = document.getElementById('thread-author-input').value;
            const text = document.getElementById('thread-text-input').value;
            const forumId = parseInt(document.getElementById('forum-select').value);

            if (!title || !author || !text) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                return;
            }

            const newThread = {
                id: forumData.forums[forumId].threads.length,
                title: title,
                author: author,
                date: new Date().toLocaleDateString('ru-RU'),
                posts: [{ id: 0, author: author, date: new Date().toLocaleString('ru-RU'), text: text }]
            };

            forumData.forums[forumId].threads.push(newThread);

            document.getElementById('thread-title-input').value = '';
            document.getElementById('thread-author-input').value = '';
            document.getElementById('thread-text-input').value = '';

            showView('forums');
            alert('‚úì –¢–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');
        }

        function createThreadFromModal() {
            const title = document.getElementById('modal-thread-title').value;
            const author = document.getElementById('modal-thread-author').value;
            const text = document.getElementById('modal-thread-text').value;

            if (!title || !author || !text) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                return;
            }

            const newThread = {
                id: forumData.forums[0].threads.length,
                title: title,
                author: author,
                date: new Date().toLocaleDateString('ru-RU'),
                posts: [{ id: 0, author: author, date: new Date().toLocaleString('ru-RU'), text: text }]
            };

            forumData.forums[0].threads.push(newThread);
            closeModal('new-thread-modal');

            document.getElementById('modal-thread-title').value = '';
            document.getElementById('modal-thread-author').value = '';
            document.getElementById('modal-thread-text').value = '';

            alert('‚úì –¢–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');
        }

        function addReply() {
            const author = document.getElementById('reply-author').value;
            const text = document.getElementById('reply-text').value;

            if (!author || !text) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                return;
            }

            if (currentForum !== null && currentThread !== null) {
                const thread = forumData.forums[currentForum].threads[currentThread];
                thread.posts.push({
                    id: thread.posts.length,
                    author: author,
                    date: new Date().toLocaleString('ru-RU'),
                    text: text
                });

                closeModal('reply-modal');
                document.getElementById('reply-author').value = '';
                document.getElementById('reply-text').value = '';

                showThread(currentForum, currentThread);
                alert('‚úì –û—Ç–≤–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω!');
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –Ω–∏—Ö
        window.onclick = function(event) {
            const modal = event.target;
            if (modal.classList.contains('modal')) {
                modal.classList.remove('active');
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        initializeData();
    </script>
</body>
</html>
